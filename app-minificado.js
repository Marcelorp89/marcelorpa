const hamburger=document.getElementById("hamburger");const navLinks=document.getElementById("nav-links");const closeBtn=document.getElementById("close-btn");const mainContent=document.querySelector("main");function abrirMenu(){navLinks.classList.add("active");if(window.innerWidth>768&&mainContent){mainContent.classList.add("push")}
hamburger.style.display="none";closeBtn.style.display="block";hamburger.setAttribute("aria-expanded","true");closeBtn.setAttribute("aria-expanded","true")}
function cerrarMenu(){navLinks.classList.remove("active");if(mainContent){mainContent.classList.remove("push")}
hamburger.style.display="block";closeBtn.style.display="none";hamburger.setAttribute("aria-expanded","false");closeBtn.setAttribute("aria-expanded","false")}
hamburger.addEventListener("click",abrirMenu);closeBtn.addEventListener("click",cerrarMenu);window.addEventListener("resize",()=>{if(window.innerWidth<=768){cerrarMenu()}else{hamburger.style.display="none";navLinks.classList.remove("active");if(mainContent){mainContent.classList.remove("push")}}});if(window.innerWidth<=768){cerrarMenu()}else{hamburger.style.display="none"}
window.addEventListener("scroll",()=>{if(window.scrollY>100){hamburger.style.bottom="20px";hamburger.style.top="auto"}else{hamburger.style.top="20px";hamburger.style.bottom="auto"}});const acordeon=document.getElementsByClassName("contenedor");for(let i=0;i<acordeon.length;i++){acordeon[i].addEventListener("click",function(){this.classList.toggle("activa")})}
const biografias=document.querySelectorAll(".biografia");const observerBio=new IntersectionObserver((entries)=>{entries.forEach((entry)=>{if(entry.isIntersecting){entry.target.classList.add("visible")}})},{threshold:0.1});biografias.forEach((el)=>observerBio.observe(el));const tarjetas=document.querySelectorAll(".tarjeta-servicio");const observerServicios=new IntersectionObserver((entries)=>{entries.forEach((entry)=>{if(entry.isIntersecting){entry.target.classList.add("visible")}})},{threshold:0.2});tarjetas.forEach((el)=>observerServicios.observe(el));const navbar=document.querySelector(".navbar");let navbarVisible=!1;window.addEventListener("scroll",()=>{if(!navbarVisible&&window.scrollY>100){navbar.style.top="0";navbarVisible=!0}});const form=document.getElementById("contact-form");const statusMsg=document.getElementById("form-status");form.addEventListener("submit",async(e)=>{e.preventDefault();const formData=new FormData(form);try{const response=await fetch("https://formspree.io/f/xjkeljqv",{method:"POST",headers:{Accept:"application/json"},body:formData});if(response.ok){statusMsg.textContent="✅ ¡Mensaje enviado con éxito!";statusMsg.classList.remove("error");form.reset();window.open("gracias.html","_blank")}else{throw new Error("Error al enviar")}}catch(error){statusMsg.textContent="❌ No se pudo enviar el mensaje. Intenta nuevamente.";statusMsg.classList.add("error")}})